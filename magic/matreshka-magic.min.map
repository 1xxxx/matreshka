{"version":3,"file":"matreshka-magic.min.js","sources":["matreshka-magic.js"],"names":["root","factory","define","amd","this","win","doc","s_add","s_rem","Element","prototype","on","fn","self","attachEvent","e","event","target","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","which","button","keyCode","call","detachEvent","window","document","$b","nsRegAndEvents","id","s_EventListener","s_MatchesSelector","i","j","k","l","$","s","context","push","apply","nodeType","test","createElement","innerHTML","children","querySelectorAll","readyState","extend","obj","arguments","length","n","f","split","map","item","b$","off","splice","is","matches","DOMTokenList","el","classes","className","replace","defineElementGetter","prop","getter","Object","defineProperty","get","__defineGetter__","toggle","token","force","contains","a","classList","documentElement","Array","join","add","toString","indexOf","index","remove","_on","_off","s_classList","Error","forEach","hasClass","addClass","removeClass","toggleClass","b","result","ieIndexOf","slice","not","find","parseHTML","html","wrapper","node","wrapMap","option","legend","thead","tr","td","col","area","_","optgroup","tbody","tfoot","colgroup","caption","th","exec","create","tagName","props","hasOwnProperty","setAttribute","appendChild","bugs","documentMode","r","setTimeout","selector","elem","elems","parentNode","__DOLLAR_LIB","neededMethods","dollar","useDollar","__MK_BINDERS","MK","binders","readFiles","files","readAs","callback","reader","file","filesArray","FileReader","onloadend","evt","readerResult","toUpperCase","getValue","setValue","v","property","propertyName","attribute","attributeName","getAttribute","dataset","textarea","input","progress","type","options","checked","value","select","multiple","filter","o","selected","_this","visibility","style","display","FileList","handler","addEventListener","domEvent","getComputedStyle","getPropertyValue","currentStyle","magic","MatreshkaMagic","toArray","each","trim","sym","initMK","object","_initMK","selectNodes","execResult","$bound","selectors","random","randomString","removeAttribute","domEvents","list","instance","evts","mkHandler","key","removed","events","special","Math","enumerable","configurable","writable","names","triggerOnInit","evtData","t","triggeredOnInit","_fastAddListener","name","allEvents","ctx","_defineSpecial","_addListener","ev","_evtData","executed","domEvtNameRegExp","defaultEvtData","_callback","_addDOMListener","_trigger","_removeListener","retain","_removeDOMListener","howToRemove","_delegateListener","path","firstKey","isMKArray","added","isMKObject","keys","_silent","changeKey","changeEvents","triggerChange","previousValue","_undelegateListener","set","previousObject","_delegateTreeListener","p","change","domEvtName","domEvtHandler","domEvt","randomID","$nodes","originalEvent","String","fullEvtName","bindHandler","unbindHandler","lastIndexOfET","lastIndexOf","$0","once","func","memo","ran","onDebounce","debounceDelay","cbc","debounce","noAccessors","specialProps","setter","mediator","fromSetter","mediate","fromMediator","setClassFor","Class","updateFunction","data","linkProps","setOnInit","_key","_keys","on_Change","values","_protect","fromDependency","trigger","args","_fastTrigger","bindNode","binder","optional","indexOfDot","changeHandler","_options","foundBinder","_evt","isUndefined","nodeName","unbindNode","_getNodes","isMK","$sandbox","sandbox","nodes","_binder","lookForBinder","initialize","changedNode","onChangeValue","assignDefaultValue","fromNode","oldvalue","silent","bindOptionalNode","selectAll","boundAll","bound","prevVal","newV","_isNaN","Number","isNaN","skipMediator","beforechange","forceHTML","silentHTML","skipLinks","_parseBindings","all","childNodes","childNode","textContent","previous","previousSibling","nodeValue","insertAdjacentHTML","removeChild","bindHTMLKey","attributes","attr","attrValue","attrName","match","RegExp","exists","descriptor","defineGetter","defineSetter","delay","thisArg","start","array","o1","o2","Date","getTime","floor","defaultBinders","ep","d","timeout","clearTimeout","noop","useAs$","_$","Symbol","version","exports","module"],"mappings":"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"}