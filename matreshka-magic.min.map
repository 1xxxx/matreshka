{"version":3,"file":"matreshka-magic.min.js","sources":["matreshka-magic.js"],"names":["root","factory","define","amd","this","win","doc","s_add","s_rem","Element","prototype","on","fn","self","attachEvent","e","event","target","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","which","button","keyCode","call","detachEvent","window","document","$b","nsRegAndEvents","id","s_EventListener","s_MatchesSelector","i","j","k","l","$","s","context","push","apply","nodeType","test","createElement","innerHTML","children","querySelectorAll","readyState","extend","obj","arguments","length","n","f","split","map","item","b$","off","splice","is","matches","DOMTokenList","el","classes","className","replace","defineElementGetter","prop","getter","Object","defineProperty","get","__defineGetter__","toggle","token","force","contains","a","classList","documentElement","Array","join","add","toString","indexOf","index","remove","_on","_off","s_classList","Error","forEach","hasClass","addClass","removeClass","toggleClass","b","result","ieIndexOf","slice","not","find","parseHTML","html","wrapper","node","wrapMap","option","legend","thead","tr","td","col","area","_","optgroup","tbody","tfoot","colgroup","caption","th","exec","create","tagName","props","hasOwnProperty","setAttribute","appendChild","bugs","documentMode","r","setTimeout","selector","elem","elems","parentNode","__DOLLAR_LIB","neededMethods","dollar","useDollar","__MK_BINDERS","MK","binders","readFiles","files","readAs","callback","reader","file","filesArray","FileReader","onloadend","evt","readerResult","toUpperCase","getValue","setValue","v","property","propertyName","attribute","attributeName","getAttribute","textarea","input","progress","type","options","checked","value","select","multiple","filter","o","selected","_this","visibility","style","display","FileList","handler","addEventListener","domEvent","getComputedStyle","getPropertyValue","currentStyle","magic","MatreshkaMagic","toArray","each","trim","sym","initMK","object","_initMK","selectNodes","execResult","$bound","selectors","random","randomString","removeAttribute","domEvents","list","instance","evts","mkHandler","key","removed","events","special","enumerable","configurable","writable","names","triggerOnInit","evtData","t","triggeredOnInit","_addListener","name","ev","_evtData","executed","ctx","allEvents","domEvtNameRegExp","defaultEvtData","_callback","_addDOMListener","_defineSpecial","_removeListener","retain","_removeDOMListener","howToRemove","_delegateListener","path","firstKey","isMKArray","added","isMKObject","keys","_silent","changeKey","changeEvents","triggerChange","previousValue","_undelegateListener","set","previousObject","_delegateTreeListener","p","change","domEvtName","domEvtHandler","domEvt","randomID","$nodes","originalEvent","String","Math","fullEvtName","bindHandler","unbindHandler","lastIndexOfET","lastIndexOf","$0","once","func","memo","ran","onDebounce","debounceDelay","cbc","debounce","noAccessors","specialProps","setter","fromSetter","mediator","mediate","fromMediator","setClassFor","Class","updateFunction","fixClassOf","data","linkProps","setOnInit","_key","_keys","on_Change","values","_protect","fromDependency","trigger","args","_trigger","_fastTrigger","bindNode","binder","optional","indexOfDot","changeHandler","_binder","_options","foundBinder","_evt","isUndefined","nodeName","unbindNode","_getNodes","isMK","$sandbox","sandbox","nodes","lookForBinder","initialize","changedNode","onChangeValue","assignDefaultValue","fromNode","oldvalue","silent","bindOptionalNode","selectAll","boundAll","bound","prevVal","newV","_isNaN","Number","isNaN","skipMediator","beforechange","forceHTML","silentHTML","skipLinks","_parseBindings","all","childNodes","childNode","textContent","previous","previousSibling","nodeValue","insertAdjacentHTML","removeChild","bindHTMLKey","attributes","attr","attrValue","attrName","match","RegExp","exists","descriptor","defineGetter","defineSetter","delay","thisArg","start","array","o1","o2","Date","getTime","floor","defaultBinders","ep","d","timeout","clearTimeout","noop","useAs$","_$","Symbol","version","exports","module"],"mappings":"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"}